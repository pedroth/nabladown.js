{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Utils.js","webpack:///external \"@babel/runtime/helpers/esm/toConsumableArray\"","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"@babel/runtime/helpers/esm/asyncToGenerator\"","webpack:///external \"@babel/runtime/helpers/esm/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/esm/createClass\"","webpack:///external \"@babel/runtime/helpers/esm/slicedToArray\"","webpack:///external \"katex\"","webpack:///./src/Render.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","pair","a","b","left","right","stream","stringOrArray","array","next","slice","peek","hasNext","length","isEmpty","toString","map","JSON","stringify","join","filter","predicate","log","console","or","accError","rules","error","returnOne","listOfPredicates","defaultValue","createDefaultEl","input","evalScriptTag","scriptTag","globalEval","eval","srcUrl","attributes","textContent","fetch","then","code","text","Promise","re","_","innerText","asyncForEach","asyncLambdas","asyncLambda","isParagraph","domNode","constructor","document","createElement","require","render","tree","BaseRender","listOfExpressions","this","renderProgram","body","forEach","e","appendChild","program","expression","renderExpression","listOfExpression","renderStatement","Statement","statement","Title","renderTitle","Seq","renderSeq","title","level","header","innerHTML","seq","container","renderAuxSeq","seqContainer","seqTypesDiv","renderSeqTypes","SeqTypes","seqDivArray","seqTypes","Text","renderText","Formula","renderFormula","Html","renderHtml","Code","renderCode","Link","renderLink","Media","renderMedia","Italic","renderItalic","Bold","renderBold","txt","italic","bold","anyBut","textArray","formula","Katex","katex","equation","throwOnError","displayMode","isInline","html","innerHtml","Array","from","getElementsByTagName","script","LineCode","renderLineCode","BlockCode","renderBlockCode","lineCode","blockCode","language","lang","codeTag","setAttribute","link","LinkStat","hyperlink","includes","childStatement","renderLinkStat","media","src","mediaElem","getMediaElementFromSrc","getVideoPredicateValue","getAudioPredicateValue","getImagePredicateValue","getEmbeddedPredicateValue","some","video","audio","img","frame","split","srcLeft","videoId","linkStat","renderAuxLinkStat","linkTypeDiv","renderLinkTypes","LinkType","linkStatDivArray","linkTypes","AnyBut","renderAnyBut","Single","renderSingle","single"],"mappings":"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","file":"Render.node.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","//========================================================================================\n/*                                                                                      *\n *                                         UTILS                                        *\n *                                                                                      */\n//========================================================================================\n\n/**\n * creates a pair pair: (a,b) => pair\n * @param {*} a left\n * @param {*} b right\n */\nexport function pair(a, b) {\n  return { left: a, right: b };\n}\n\n/**\n * creates a stream from a string, string => stream\n * @param {*} string\n */\nexport function stream(stringOrArray) {\n  // copy array or string to array\n  const array = [...stringOrArray];\n  return {\n    next: () => stream(array.slice(1)),\n    peek: () => array[0],\n    hasNext: () => array.length >= 1,\n    isEmpty: () => array.length === 0,\n    toString: () =>\n      array.map(s => (typeof s === \"string\" ? s : JSON.stringify(s))).join(\"\"),\n    filter: predicate => stream(array.filter(predicate)),\n    log: () => {\n      let s = stream(array);\n      while (s.hasNext()) {\n        console.log(s.peek());\n        s = s.next();\n      }\n    }\n  };\n}\n\n/**\n *  Select one rule\n * @param  {...any} rules\n */\nexport function or(...rules) {\n  let accError = null;\n  for (let i = 0; i < rules.length; i++) {\n    try {\n      return rules[i]();\n    } catch (error) {\n      accError = error;\n    }\n  }\n  throw accError;\n}\n\n/**\n * Returns a value based on the predicate\n * @param {*} listOfPredicates\n * @param {*} defaultValue\n */\nexport function returnOne(listOfPredicates, defaultValue = createDefaultEl()) {\n  return input => {\n    for (let i = 0; i < listOfPredicates.length; i++) {\n      if (listOfPredicates[i].predicate(input))\n        return listOfPredicates[i].value(input);\n    }\n    return defaultValue;\n  };\n}\n\nexport function evalScriptTag(scriptTag) {\n  const globalEval = eval;\n  const srcUrl = scriptTag?.attributes[\"src\"]?.textContent;\n  if (!!srcUrl) {\n    return fetch(srcUrl)\n      .then(code => code.text())\n      .then(code => {\n        globalEval(code);\n      });\n  } else {\n    return new Promise((re, _) => {\n      globalEval(scriptTag.innerText);\n      re(true);\n    });\n  }\n}\n\nexport async function asyncForEach(asyncLambdas) {\n  for (const asyncLambda of asyncLambdas) {\n    await asyncLambda();\n  }\n}\n\nexport function isParagraph(domNode) {\n  return domNode.constructor.name === \"HTMLParagraphElement\";\n}\n\nexport function createDefaultEl() {\n  return document.createElement(\"div\");\n}\n\nexport function bindAll(obj) {\n  Object.getOwnPropertyNames(Object.getPrototypeOf(obj))\n    .filter(prop => prop === \"constructor\")\n    .forEach(method => (obj[method] = obj[method].bind(obj)));\n}\n","module.exports = require(\"@babel/runtime/helpers/esm/toConsumableArray\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@babel/runtime/helpers/esm/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/esm/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/esm/createClass\");","module.exports = require(\"@babel/runtime/helpers/esm/slicedToArray\");","module.exports = require(\"katex\");","import katex from \"katex\";\nimport { asyncForEach, evalScriptTag, returnOne, isParagraph } from \"./Utils\";\n\n//========================================================================================\n/*                                                                                      *\n *                                        RENDER                                        *\n *                                                                                      */\n//========================================================================================\n\n/**\n * render: Abstract syntactic tree => HTML\n * @param {*} tree\n * @returns HTML object\n *\n */\nexport function render(tree) {\n  return new BaseRender().render(tree);\n}\n\nexport class BaseRender {\n  /**\n   * render: Abstract syntactic tree => HTML\n   * @param {*} tree\n   * @returns HTML object\n   *\n   */\n  render(tree) {\n    const listOfExpressions = this.renderProgram(tree);\n    const body = document.createElement(\"div\");\n    listOfExpressions.forEach(e => body.appendChild(e));\n    return body;\n  }\n\n  /**\n   *\n   * program => [HTML]\n   *\n   * @param {*} program\n   */\n  renderProgram(program) {\n    if (program.expression === null && program.program === null) return [];\n    const expression = this.renderExpression(program.expression);\n    const listOfExpression = this.renderProgram(program.program);\n    return [expression, ...listOfExpression];\n  }\n\n  /**\n   *\n   * expression => HTML\n   *\n   * @param {*} expression\n   */\n  renderExpression(expression) {\n    return this.renderStatement(expression.Statement);\n  }\n\n  /**\n   *\n   * statement => HTML\n   * @param {*} statement\n   */\n  renderStatement(statement) {\n    return returnOne([\n      { predicate: s => !!s.Title, value: s => this.renderTitle(s.Title) },\n      { predicate: s => !!s.Seq, value: s => this.renderSeq(s.Seq) }\n    ])(statement);\n  }\n\n  /**\n   * title => HTML\n   * @param {*} title\n   */\n  renderTitle(title) {\n    const { level, Seq } = title;\n    const header = document.createElement(`h${level}`);\n    header.innerHTML = this.renderSeq(Seq).innerHTML;\n    return header;\n  }\n\n  /**\n   * seq => HTML\n   * @param {*} seq\n   */\n  renderSeq(seq) {\n    const container = document.createElement(\"p\");\n    const seqArray = this.renderAuxSeq(seq);\n    seqArray.forEach(seqContainer => {\n      if (isParagraph(seqContainer))\n        container.innerHTML += seqContainer.innerText;\n      else container.appendChild(seqContainer);\n    });\n    return container;\n  }\n\n  renderAuxSeq(seq) {\n    if (seq.isEmpty) return [];\n    const seqTypesDiv = this.renderSeqTypes(seq.SeqTypes);\n    const seqDivArray = this.renderAuxSeq(seq.Seq);\n    return [seqTypesDiv, ...seqDivArray];\n  }\n\n  /**\n   * seqTypes => HTML\n   *\n   * @param {*} seqTypes\n   */\n  renderSeqTypes(seqTypes) {\n    return returnOne([\n      { predicate: t => !!t.Text, value: t => this.renderText(t.Text) },\n      {\n        predicate: t => !!t.Formula,\n        value: t => this.renderFormula(t.Formula)\n      },\n      { predicate: t => !!t.Html, value: t => this.renderHtml(t.Html) },\n      { predicate: t => !!t.Code, value: t => this.renderCode(t.Code) },\n      { predicate: t => !!t.Link, value: t => this.renderLink(t.Link) },\n      { predicate: t => !!t.Media, value: t => this.renderMedia(t.Media) },\n      { predicate: t => !!t.Italic, value: t => this.renderItalic(t.Italic) },\n      { predicate: t => !!t.Bold, value: t => this.renderBold(t.Bold) }\n    ])(seqTypes);\n  }\n\n  /**\n   * text => HTML\n   * @param {*} text\n   */\n  renderText(text) {\n    const { text: txt } = text;\n    const container = document.createElement(\"p\");\n    container.innerHTML = txt;\n    return container;\n  }\n\n  /**\n   * italic => HTML\n   * @param {*} italic\n   */\n  renderItalic(italic) {\n    const { SeqTypes } = italic;\n    const container = document.createElement(\"em\");\n    container.innerHTML = this.renderSeqTypes(SeqTypes).innerHTML;\n    return container;\n  }\n\n  /**\n   * bold => HTML\n   * @param {*} bold\n   */\n  renderBold(bold) {\n    const { SeqTypes } = bold;\n    const container = document.createElement(\"strong\");\n    container.innerHTML = this.renderSeqTypes(SeqTypes).innerHTML;\n    return container;\n  }\n\n  /**\n   * anyBut => HTML\n   * @param {*} anyBut\n   */\n  renderAnyBut(anyBut) {\n    const { textArray } = anyBut;\n    const container = document.createElement(\"p\");\n    container.innerHTML = textArray.join(\"\");\n    return container;\n  }\n\n  /**\n   * formula => HTML\n   * @param {*} formula\n   */\n  renderFormula(formula) {\n    //must check if katex exist\n    const Katex = katex || { render: () => {} };\n    const { equation } = formula;\n    let container = document.createElement(\"span\");\n    Katex.render(equation, container, {\n      throwOnError: false,\n      displayMode: !formula.isInline\n    });\n    return container;\n  }\n\n  /**\n   * html => HTML\n   * @param {*} html\n   */\n  renderHtml(html) {\n    const { html: innerHtml } = html;\n    const container = document.createElement(\"div\");\n    container.innerHTML = innerHtml;\n    const scripts = Array.from(container.getElementsByTagName(\"script\"));\n    const asyncLambdas = scripts.map(script => () => evalScriptTag(script));\n    asyncForEach(asyncLambdas);\n    return container;\n  }\n\n  /**\n   * code => HTML\n   * @param {*} code\n   */\n  renderCode(code) {\n    return returnOne([\n      {\n        predicate: c => !!c.LineCode,\n        value: c => this.renderLineCode(c.LineCode)\n      },\n      {\n        predicate: c => !!c.BlockCode,\n        value: c => this.renderBlockCode(c.BlockCode)\n      }\n    ])(code);\n  }\n\n  /**\n   * lineCode => HTML\n   * @param {*} lineCode\n   */\n  renderLineCode(lineCode) {\n    const { code } = lineCode;\n    const container = document.createElement(\"code\");\n    container.innerText = code;\n    return container;\n  }\n\n  /**\n   * blockCode => HTML\n   * @param {*} blockCode\n   */\n  renderBlockCode(blockCode) {\n    const { code, language } = blockCode;\n    const lang = language === \"\" ? \"plaintext\" : language;\n    const container = document.createElement(\"pre\");\n    const codeTag = document.createElement(\"code\");\n    codeTag.setAttribute(\"class\", `language-${lang}`);\n    codeTag.innerText = code;\n    container.appendChild(codeTag);\n    return container;\n  }\n  /**\n   * link => HTML\n   * @param {*} link\n   */\n  renderLink(link) {\n    const { LinkStat, link: hyperlink } = link;\n    const container = document.createElement(\"a\");\n    container.setAttribute(\"href\", hyperlink);\n    hyperlink.includes(\"http\") && container.setAttribute(\"target\", \"_blank\");\n    const childStatement = this.renderLinkStat(LinkStat);\n    container.appendChild(childStatement);\n    return container;\n  }\n  /**\n   * media => HTML\n   * @param {*} media\n   */\n  renderMedia(media) {\n    const { LinkStat, link: src } = media;\n    const container = document.createElement(\"div\");\n    container.setAttribute(\n      \"style\",\n      \"display: flex; flex-grow: 1; flex-direction: column\"\n    );\n    const mediaElem = this.getMediaElementFromSrc(src);\n    const childStatement = this.renderLinkStat(LinkStat);\n    container.appendChild(mediaElem);\n    container.appendChild(childStatement);\n    return container;\n  }\n\n  /**\n   * src:string => HTML\n   *\n   * @param {*} src\n   */\n  getMediaElementFromSrc(src) {\n    return returnOne([\n      this.getVideoPredicateValue(),\n      this.getAudioPredicateValue(),\n      this.getImagePredicateValue(),\n      this.getEmbeddedPredicateValue()\n    ])(src);\n  }\n\n  getVideoPredicateValue() {\n    return {\n      predicate: src => [\".mp4\", \".ogg\", \".avi\"].some(e => src.includes(e)),\n      value: src => {\n        const video = document.createElement(\"video\");\n        video.setAttribute(\"src\", src);\n        video.setAttribute(\"controls\", \"\");\n        return video;\n      }\n    };\n  }\n\n  getAudioPredicateValue() {\n    return {\n      predicate: src => [\".mp3\", \".ogg\", \".wav\"].some(e => src.includes(e)),\n      value: src => {\n        const audio = document.createElement(\"audio\");\n        audio.setAttribute(\"src\", src);\n        audio.setAttribute(\"controls\", \"\");\n        return audio;\n      }\n    };\n  }\n\n  getImagePredicateValue() {\n    return {\n      predicate: src =>\n        [\n          \".apng\",\n          \".avif\",\n          \".gif\",\n          \".jpg\",\n          \".jpeg\",\n          \".jfif\",\n          \".pjpeg\",\n          \".pjp\",\n          \".png\",\n          \".svg\",\n          \".webp\"\n        ].some(e => src.includes(e)),\n      value: src => {\n        const img = document.createElement(\"img\");\n        img.setAttribute(\"src\", src);\n        return img;\n      }\n    };\n  }\n\n  getEmbeddedPredicateValue() {\n    return {\n      predicate: src => [\".youtube.com\"].some(e => src.includes(e)),\n      value: src => {\n        const frame = document.createElement(\"iframe\");\n        const [srcLeft, _] = src.split(\".com/\");\n        const [, videoId] = src.split(\"=\");\n        frame.setAttribute(\"src\", srcLeft + \".com/embed/\" + videoId);\n        frame.setAttribute(\"frameborder\", 0);\n        frame.setAttribute(\"height\", \"315\");\n        frame.setAttribute(\n          \"allow\",\n          \"fullscreen; clipboard-write; encrypted-media; picture-in-picture\"\n        );\n        return frame;\n      }\n    };\n  }\n\n  /**\n   * linkStat => HTML\n   * @param {*} linkStat\n   */\n  renderLinkStat(linkStat) {\n    const container = document.createElement(\"span\");\n    const seqArray = this.renderAuxLinkStat(linkStat);\n    seqArray.forEach(seqContainer => {\n      if (isParagraph(seqContainer))\n        container.innerHTML += seqContainer.innerText;\n      else container.appendChild(seqContainer);\n    });\n    return container;\n  }\n\n  renderAuxLinkStat(linkStat) {\n    if (linkStat.isEmpty) return [];\n    const linkTypeDiv = this.renderLinkTypes(linkStat.LinkType);\n    const linkStatDivArray = this.renderAuxLinkStat(linkStat.LinkStat);\n    return [linkTypeDiv, ...linkStatDivArray];\n  }\n\n  /**\n   * linkTypes => HTML\n   * @param {*} linkTypes\n   */\n  renderLinkTypes(linkTypes) {\n    return returnOne([\n      { predicate: l => !!l.AnyBut, value: l => this.renderAnyBut(l.AnyBut) },\n      {\n        predicate: l => !!l.Formula,\n        value: l => this.renderFormula(l.Formula)\n      },\n      { predicate: l => !!l.Code, value: l => this.renderCode(l.Code) },\n      { predicate: l => !!l.Html, value: l => this.renderHtml(l.Html) },\n      { predicate: l => !!l.Italic, value: l => this.renderItalic(l.Italic) },\n      { predicate: l => !!l.Bold, value: l => this.renderBold(l.Bold) },\n      { predicate: l => !!l.Single, value: l => this.renderSingle(l.Single) }\n    ])(linkTypes);\n  }\n\n  /**\n   * single => HTML\n   * @param {*} single\n   */\n  renderSingle(single) {\n    return this.renderText(single);\n  }\n}\n"],"sourceRoot":""}