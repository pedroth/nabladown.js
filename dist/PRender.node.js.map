{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Utils.js","webpack:///external \"@babel/runtime/helpers/esm/toConsumableArray\"","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"@babel/runtime/helpers/esm/asyncToGenerator\"","webpack:///external \"@babel/runtime/helpers/esm/slicedToArray\"","webpack:///external \"katex\"","webpack:///./src/Render.js","webpack:///external \"@babel/runtime/helpers/esm/defineProperty\"","webpack:///external \"highlight.js\"","webpack:///./src/PRender.js","webpack:///external \"highlight.js/styles/railscasts.css\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","pair","a","b","left","right","stream","stringOrArray","array","next","slice","peek","hasNext","length","isEmpty","toString","map","JSON","stringify","join","filter","predicate","log","console","or","accError","rules","error","returnOne","listOfPredicates","defaultValue","input","evalScriptTag","scriptTag","globalEval","eval","srcUrl","attributes","textContent","fetch","then","code","text","Promise","re","_","innerText","asyncForEach","asyncLambdas","asyncLambda","isParagraph","domNode","constructor","require","render","tree","listOfExpressions","renderProgram","body","document","createElement","forEach","e","appendChild","BaseRender","renderExpression","renderStatement","renderTitle","renderSeq","renderSeqTypes","renderText","renderItalic","renderBold","renderAnyBut","renderCode","renderLineCode","renderBlockCode","renderFormula","renderHtml","renderLink","renderMedia","renderLinkStat","renderLinkTypes","renderSingle","program","expression","listOfExpression","Statement","statement","Title","Seq","createDefaultEl","title","level","header","innerHTML","seq","container","renderAuxSeq","seqTypesDiv","SeqTypes","seqDivArray","seqContainer","seqTypes","Text","Formula","Html","Code","Link","Media","Italic","Bold","txt","italic","bold","anyBut","textArray","formula","Katex","katex","equation","throwOnError","displayMode","isInline","html","innerHtml","Array","from","getElementsByTagName","script","LineCode","BlockCode","lineCode","blockCode","language","lang","codeTag","setAttribute","link","LinkStat","hyperlink","includes","childStatement","media","src","mediaElem","some","video","audio","img","frame","split","srcLeft","videoId","getMediaElementFromSrc","linkStat","renderAuxLinkStat","linkTypeDiv","LinkType","linkStatDivArray","linkTypes","AnyBut","Single","single","PRender","getHighlightedCodeElem","style","hljs","highlight"],"mappings":"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","file":"PRender.node.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","//========================================================================================\n/*                                                                                      *\n *                                         UTILS                                        *\n *                                                                                      */\n//========================================================================================\n\n/**\n * creates a pair pair: (a,b) => pair\n * @param {*} a left\n * @param {*} b right\n */\nexport function pair(a, b) {\n  return { left: a, right: b };\n}\n\n/**\n * creates a stream from a string, string => stream\n * @param {*} string\n */\nexport function stream(stringOrArray) {\n  // copy array or string to array\n  const array = [...stringOrArray];\n  return {\n    next: () => stream(array.slice(1)),\n    peek: () => array[0],\n    hasNext: () => array.length >= 1,\n    isEmpty: () => array.length === 0,\n    toString: () =>\n      array.map(s => (typeof s === \"string\" ? s : JSON.stringify(s))).join(\"\"),\n    filter: predicate => stream(array.filter(predicate)),\n    log: () => {\n      let s = stream(array);\n      while (s.hasNext()) {\n        console.log(s.peek());\n        s = s.next();\n      }\n    }\n  };\n}\n\n/**\n *  Select one rule\n * @param  {...any} rules\n */\nexport function or(...rules) {\n  let accError = null;\n  for (let i = 0; i < rules.length; i++) {\n    try {\n      return rules[i]();\n    } catch (error) {\n      accError = error;\n    }\n  }\n  throw accError;\n}\n\n/**\n * Returns a value based on the predicate\n * @param {*} listOfPredicates\n * @param {*} defaultValue\n */\nexport function returnOne(listOfPredicates, defaultValue) {\n  return input => {\n    for (let i = 0; i < listOfPredicates.length; i++) {\n      if (listOfPredicates[i].predicate(input))\n        return listOfPredicates[i].value(input);\n    }\n    return defaultValue;\n  };\n}\n\nexport function evalScriptTag(scriptTag) {\n  const globalEval = eval;\n  const srcUrl = scriptTag?.attributes[\"src\"]?.textContent;\n  if (!!srcUrl) {\n    return fetch(srcUrl)\n      .then(code => code.text())\n      .then(code => {\n        globalEval(code);\n      });\n  } else {\n    return new Promise((re, _) => {\n      globalEval(scriptTag.innerText);\n      re(true);\n    });\n  }\n}\n\nexport async function asyncForEach(asyncLambdas) {\n  for (const asyncLambda of asyncLambdas) {\n    await asyncLambda();\n  }\n}\n\nexport function functionEncode(functionString) {\n  return functionString.replaceAll('\"', \"'\");\n}\n\nexport function isParagraph(domNode) {\n  return domNode.constructor.name === \"HTMLParagraphElement\";\n}\n","module.exports = require(\"@babel/runtime/helpers/esm/toConsumableArray\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@babel/runtime/helpers/esm/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/esm/slicedToArray\");","module.exports = require(\"katex\");","import katex from \"katex\";\nimport { asyncForEach, evalScriptTag, returnOne, isParagraph } from \"./Utils\";\n\n//========================================================================================\n/*                                                                                      *\n *                                        RENDER                                        *\n *                                                                                      */\n//========================================================================================\n\n/**\n * render: Abstract syntactic tree => HTML\n * @param {*} tree\n * @returns HTML object\n *\n */\nexport function render(tree) {\n  const listOfExpressions = renderProgram(tree);\n  const body = document.createElement(\"div\");\n  listOfExpressions.forEach(e => body.appendChild(e));\n  return body;\n}\n\nexport const BaseRender = {\n  render,\n  renderProgram,\n  renderExpression,\n  renderStatement,\n  renderTitle,\n  renderSeq,\n  renderSeqTypes,\n  renderText,\n  renderItalic,\n  renderBold,\n  renderAnyBut,\n  renderCode,\n  renderLineCode,\n  renderBlockCode,\n  renderFormula,\n  renderHtml,\n  renderLink,\n  renderMedia,\n  renderLinkStat,\n  renderLinkTypes,\n  renderSingle\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                    PRIVATE METHODS                                   *\n *                                                                                      */\n//========================================================================================\n/**\n *\n * program => [HTML]\n *\n * @param {*} program\n */\nfunction renderProgram(program) {\n  if (program.expression === null && program.program === null) return [];\n  const expression = renderExpression(program.expression);\n  const listOfExpression = renderProgram(program.program);\n  return [expression, ...listOfExpression];\n}\n\n/**\n *\n * expression => HTML\n *\n * @param {*} expression\n */\nfunction renderExpression(expression) {\n  return renderStatement(expression.Statement);\n}\n\n/**\n *\n * statement => HTML\n * @param {*} statement\n */\nfunction renderStatement(statement) {\n  return returnOne(\n    [\n      { predicate: s => !!s.Title, value: s => renderTitle(s.Title) },\n      { predicate: s => !!s.Seq, value: s => renderSeq(s.Seq) }\n    ],\n    createDefaultEl()\n  )(statement);\n}\n\n/**\n * title => HTML\n * @param {*} title\n */\nfunction renderTitle(title) {\n  const { level, Seq } = title;\n  const header = document.createElement(`h${level}`);\n  header.innerHTML = renderSeq(Seq).innerHTML;\n  return header;\n}\n\n/**\n * seq => HTML\n * @param {*} seq\n */\nfunction renderSeq(seq) {\n  const container = document.createElement(\"p\");\n  const seqArray = renderAuxSeq(seq);\n  seqArray.forEach(seqContainer => {\n    if (isParagraph(seqContainer))\n      container.innerHTML += seqContainer.innerText;\n    else container.appendChild(seqContainer);\n  });\n  return container;\n}\n\nfunction renderAuxSeq(seq) {\n  if (seq.isEmpty) return [];\n  const seqTypesDiv = renderSeqTypes(seq.SeqTypes);\n  const seqDivArray = renderAuxSeq(seq.Seq);\n  return [seqTypesDiv, ...seqDivArray];\n}\n\n/**\n * seqTypes => HTML\n *\n * @param {*} seqTypes\n */\nfunction renderSeqTypes(seqTypes) {\n  return returnOne(\n    [\n      { predicate: t => !!t.Text, value: t => renderText(t.Text) },\n      { predicate: t => !!t.Formula, value: t => renderFormula(t.Formula) },\n      { predicate: t => !!t.Html, value: t => renderHtml(t.Html) },\n      { predicate: t => !!t.Code, value: t => renderCode(t.Code) },\n      { predicate: t => !!t.Link, value: t => renderLink(t.Link) },\n      { predicate: t => !!t.Media, value: t => renderMedia(t.Media) },\n      { predicate: t => !!t.Italic, value: t => renderItalic(t.Italic) },\n      { predicate: t => !!t.Bold, value: t => renderBold(t.Bold) }\n    ],\n    createDefaultEl()\n  )(seqTypes);\n}\n\n/**\n * text => HTML\n * @param {*} text\n */\nfunction renderText(text) {\n  const { text: txt } = text;\n  const container = document.createElement(\"p\");\n  container.innerHTML = txt;\n  return container;\n}\n\n/**\n * italic => HTML\n * @param {*} italic\n */\nfunction renderItalic(italic) {\n  const { SeqTypes } = italic;\n  const container = document.createElement(\"em\");\n  container.innerHTML = renderSeqTypes(SeqTypes).innerHTML;\n  return container;\n}\n\n/**\n * bold => HTML\n * @param {*} bold\n */\nfunction renderBold(bold) {\n  const { SeqTypes } = bold;\n  const container = document.createElement(\"strong\");\n  container.innerHTML = renderSeqTypes(SeqTypes).innerHTML;\n  return container;\n}\n\n/**\n * anyBut => HTML\n * @param {*} anyBut\n */\nfunction renderAnyBut(anyBut) {\n  const { textArray } = anyBut;\n  const container = document.createElement(\"p\");\n  container.innerHTML = textArray.join(\"\");\n  return container;\n}\n\n/**\n * formula => HTML\n * @param {*} formula\n */\nfunction renderFormula(formula) {\n  //must check if katex exist\n  const Katex = katex || { render: () => {} };\n  const { equation } = formula;\n  let container = document.createElement(\"span\");\n  Katex.render(equation, container, {\n    throwOnError: false,\n    displayMode: !formula.isInline\n  });\n  return container;\n}\n\n/**\n * html => HTML\n * @param {*} html\n */\nfunction renderHtml(html) {\n  const { html: innerHtml } = html;\n  const container = document.createElement(\"div\");\n  container.innerHTML = innerHtml;\n  const scripts = Array.from(container.getElementsByTagName(\"script\"));\n  const asyncLambdas = scripts.map(script => () => evalScriptTag(script));\n  asyncForEach(asyncLambdas);\n  return container;\n}\n\n/**\n * code => HTML\n * @param {*} code\n */\nfunction renderCode(code) {\n  return returnOne(\n    [\n      { predicate: c => !!c.LineCode, value: c => renderLineCode(c.LineCode) },\n      {\n        predicate: c => !!c.BlockCode,\n        value: c => renderBlockCode(c.BlockCode)\n      }\n    ],\n    createDefaultEl()\n  )(code);\n}\n\n/**\n * lineCode => HTML\n * @param {*} lineCode\n */\nfunction renderLineCode(lineCode) {\n  const { code } = lineCode;\n  const container = document.createElement(\"code\");\n  container.innerText = code;\n  return container;\n}\n\n/**\n * blockCode => HTML\n * @param {*} blockCode\n */\nfunction renderBlockCode(blockCode) {\n  const { code, language } = blockCode;\n  const lang = language === \"\" ? \"plaintext\" : language;\n  const container = document.createElement(\"pre\");\n  const codeTag = document.createElement(\"code\");\n  codeTag.setAttribute(\"class\", `language-${lang}`);\n  codeTag.innerText = code;\n  container.appendChild(codeTag);\n  return container;\n}\n/**\n * link => HTML\n * @param {*} link\n */\nfunction renderLink(link) {\n  const { LinkStat, link: hyperlink } = link;\n  const container = document.createElement(\"a\");\n  container.setAttribute(\"href\", hyperlink);\n  hyperlink.includes(\"http\") && container.setAttribute(\"target\", \"_blank\");\n  const childStatement = renderLinkStat(LinkStat);\n  container.appendChild(childStatement);\n  return container;\n}\n/**\n * media => HTML\n * @param {*} media\n */\nfunction renderMedia(media) {\n  const { LinkStat, link: src } = media;\n  const container = document.createElement(\"div\");\n  container.setAttribute(\n    \"style\",\n    \"display: flex; flex-grow: 1; flex-direction: column\"\n  );\n  const mediaElem = getMediaElementFromSrc(src);\n  const childStatement = renderLinkStat(LinkStat);\n  container.appendChild(mediaElem);\n  container.appendChild(childStatement);\n  return container;\n}\n\n/**\n * src:string => HTML\n *\n * @param {*} src\n */\nfunction getMediaElementFromSrc(src) {\n  return returnOne([\n    getVideoPredicateValue(),\n    getAudioPredicateValue(),\n    getImagePredicateValue(),\n    getEmbeddedPredicateValue()\n  ])(src);\n}\n\nfunction getVideoPredicateValue() {\n  return {\n    predicate: src => [\".mp4\", \".ogg\", \".avi\"].some(e => src.includes(e)),\n    value: src => {\n      const video = document.createElement(\"video\");\n      video.setAttribute(\"src\", src);\n      video.setAttribute(\"controls\", \"\");\n      return video;\n    }\n  };\n}\n\nfunction getAudioPredicateValue() {\n  return {\n    predicate: src => [\".mp3\", \".ogg\", \".wav\"].some(e => src.includes(e)),\n    value: src => {\n      const audio = document.createElement(\"audio\");\n      audio.setAttribute(\"src\", src);\n      audio.setAttribute(\"controls\", \"\");\n      return audio;\n    }\n  };\n}\n\nfunction getImagePredicateValue() {\n  return {\n    predicate: src =>\n      [\n        \".apng\",\n        \".avif\",\n        \".gif\",\n        \".jpg\",\n        \".jpeg\",\n        \".jfif\",\n        \".pjpeg\",\n        \".pjp\",\n        \".png\",\n        \".svg\",\n        \".webp\"\n      ].some(e => src.includes(e)),\n    value: src => {\n      const img = document.createElement(\"img\");\n      img.setAttribute(\"src\", src);\n      return img;\n    }\n  };\n}\n\nfunction getEmbeddedPredicateValue() {\n  return {\n    predicate: src => [\".youtube.com\"].some(e => src.includes(e)),\n    value: src => {\n      const frame = document.createElement(\"iframe\");\n      const [srcLeft, _] = src.split(\".com/\");\n      const [, videoId] = src.split(\"=\");\n      frame.setAttribute(\"src\", srcLeft + \".com/embed/\" + videoId);\n      frame.setAttribute(\"frameborder\", 0);\n      frame.setAttribute(\"height\", \"315\");\n      frame.setAttribute(\n        \"allow\",\n        \"fullscreen; clipboard-write; encrypted-media; picture-in-picture\"\n      );\n      return frame;\n    }\n  };\n}\n\n/**\n * linkStat => HTML\n * @param {*} linkStat\n */\nfunction renderLinkStat(linkStat) {\n  const container = document.createElement(\"span\");\n  const seqArray = renderAuxLinkStat(linkStat);\n  seqArray.forEach(seqContainer => {\n    if (isParagraph(seqContainer))\n      container.innerHTML += seqContainer.innerText;\n    else container.appendChild(seqContainer);\n  });\n  return container;\n}\n\nfunction renderAuxLinkStat(linkStat) {\n  if (linkStat.isEmpty) return [];\n  const linkTypeDiv = renderLinkTypes(linkStat.LinkType);\n  const linkStatDivArray = renderAuxLinkStat(linkStat.LinkStat);\n  return [linkTypeDiv, ...linkStatDivArray];\n}\n\n/**\n * linkTypes => HTML\n * @param {*} linkTypes\n */\nfunction renderLinkTypes(linkTypes) {\n  return returnOne(\n    [\n      { predicate: l => !!l.AnyBut, value: l => renderAnyBut(l.AnyBut) },\n      { predicate: l => !!l.Formula, value: l => renderFormula(l.Formula) },\n      { predicate: l => !!l.Code, value: l => renderCode(l.Code) },\n      { predicate: l => !!l.Html, value: l => renderHtml(l.Html) },\n      { predicate: l => !!l.Italic, value: l => renderItalic(l.Italic) },\n      { predicate: l => !!l.Bold, value: l => renderBold(l.Bold) },\n      { predicate: l => !!l.Single, value: l => renderSingle(l.Single) }\n    ],\n    createDefaultEl()\n  )(linkTypes);\n}\n\n/**\n * single => HTML\n * @param {*} single\n */\nfunction renderSingle(single) {\n  return renderText(single);\n}\n\nfunction createDefaultEl() {\n  return document.createElement(\"div\");\n}\n","module.exports = require(\"@babel/runtime/helpers/esm/defineProperty\");","module.exports = require(\"highlight.js\");","import { BaseRender } from \"./Render\";\nimport \"highlight.js/styles/railscasts.css\";\n// TODO: Find a way to work with lazy loading and webpack\nimport hljs from \"highlight.js\";\n\nconst PRender = { ...BaseRender };\nPRender.renderCode = renderCode;\nPRender.renderLineCode = renderLineCode;\nPRender.renderBlockCode = renderBlockCode;\n\nexport function render(tree) {\n  return PRender.render(tree);\n}\n\n//========================================================================================\n/*                                                                                      *\n *                                    PRIVATE METHODS                                   *\n *                                                                                      */\n//========================================================================================\n\n/**\n * code => HTML\n * @param {*} code\n */\nfunction renderCode(code) {\n  const { LineCode, BlockCode } = code;\n  return !!LineCode ? renderLineCode(LineCode) : renderBlockCode(BlockCode);\n}\n\n/**\n * lineCode => HTML\n * @param {*} lineCode\n */\nfunction renderLineCode(lineCode) {\n  const { code } = lineCode;\n  return getHighlightedCodeElem(code, \"\", true);\n}\n\n/**\n * blockCode => HTML\n * @param {*} blockCode\n */\nfunction renderBlockCode(blockCode) {\n  const { code, language } = blockCode;\n  return getHighlightedCodeElem(code, language);\n}\n\nfunction getHighlightedCodeElem(code, language, isInline = false) {\n  const lang = language === \"\" ? \"plaintext\" : language;\n  const container = isInline\n    ? document.createElement(\"span\")\n    : document.createElement(\"pre\");\n  let style = `\n    border-style: solid;\n    border-width: thin;\n    border-radius: 6px;\n    box-sizing: border-box;\n    background-color: #232323;\n    border: hidden;\n    font-size: 85%;\n    color: orange;\n   `;\n  style += isInline ? `padding: 5px` : `padding: .2em .4em; overflow: auto;`;\n  container.setAttribute(\"style\", style);\n  const codeTag = document.createElement(\"code\");\n  codeTag.setAttribute(\"class\", `language-${lang}`);\n  // lazy load doesn't work with webpack, only if I hack the bundle\n  /* \n  import(`highlight.js/lib/languages/${lang}`).then(({ default: langLib }) => {\n     hljs.registerLanguage(lang, langLib);\n     codeHtml.innerHTML = hljs.highlight(lang, code).value;\n   });\n   */\n  codeTag.innerHTML = hljs.highlight(lang, code).value;\n  container.appendChild(codeTag);\n  return container;\n}\n","module.exports = require(\"highlight.js/styles/railscasts.css\");"],"sourceRoot":""}